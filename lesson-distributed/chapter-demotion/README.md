# 高并发下降级、限流

## 缓存

## 降级

* 熔断
* 人工降级

  * 通过中心化配置
* 自动降级

## 限流

### 限流算法

####  滑动窗口

[演示滑动窗口](https://media.pearsoncmg.com/aw/ecs_kurose_compnetwork_7/cw/content/interactiveanimations/selective-repeat-protocol/index.html)

* 滑动窗口的优势

####  漏桶算法

> 漏桶算法主要在于穿越流量是恒定的

* 单进程实现
* 分布式实现
  * `Redisson`

####  令牌桶算法

> 桶里面存的是令牌，令牌桶算法主要在于桶内令牌多少和生成令牌的速率
>
> 生成令牌机制  r token/s
>
> 预置令牌数
>
> 在没有令牌的时候才限制流量

* 单进程实现
* 分布式实现



**令牌桶算法和漏桶算法的区别在于漏桶实时限制流量如果有流量过来都堆积在桶内，而令牌桶只有桶内没有令牌才限制，如果有令牌是不限制流量的**







